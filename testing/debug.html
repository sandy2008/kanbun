<!DOCTYPE html>
<html>
<head>
    <title>Kanbun Compiler Test</title>
</head>
<body>
    <h1>Kanbun Compiler Debug</h1>
    <div id="output"></div>
    
    <script src="js/kanbun-compiler.js"></script>
    <script>
        console.log('Testing Kanbun Compiler...');
        
        const output = document.getElementById('output');
        
        function log(message) {
            console.log(message);
            output.innerHTML += message + '<br>';
        }
        
        try {
            const compiler = new KanbunCompiler();
            log('✅ Compiler created successfully');
            
            // Test simple cases
            const tests = [
                '書「Hello」。',
                '昔有數曰「甲」、其値五。',
                '昔有言曰「挨拶」、其値「Hello World」。'
            ];
            
            tests.forEach((test, i) => {
                log(`\nTest ${i+1}: ${test}`);
                try {
                    const result = compiler.compile(test);
                    log(`Success: ${result.success}`);
                    if (result.javascript) {
                        log(`JS: ${result.javascript}`);
                    }
                    if (result.error) {
                        log(`Error: ${result.error}`);
                    }
                } catch (error) {
                    log(`Exception: ${error.message}`);
                }
            });
            
        } catch (error) {
            log(`❌ Failed to create compiler: ${error.message}`);
        }
    </script>
</body>
</html>
